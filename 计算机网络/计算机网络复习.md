# 计算机网络复习
## 1. 基础知识
### 1.1 三种常见的计算机体系结构划分
OSI分层（7层）：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。

TCP/IP分层（4层）：网络接口层、网际层、运输层、应用层。

五层协议（5层）：物理层、数据链路层、网络层、运输层、应用层。
> 每一层的作用如下：
> * 物理层：激活、维持、关闭通信端点之间的机械特性、电气特性、功能特性以及过程特性。该层为上层协议提供了一个传输数据的物理媒体。物理层的任务就是**透明地传送比特流。**
> * 数据链路层：数据链路层在不可靠的物理介质上提供可靠的传输。该层的作用包括：**物理地址寻址、数据的成帧、流量控制、数据的检错、重发等**。
> * 网络层：**网络层负责对子网间的数据包进行路由选择**。此外，网络层还可以实现拥塞控制、网际互连等功能。
> * 传输层：构的最高层，直接**为用户的应用进程提供服务**。
> * 运输层的任务是**负责向两个主机中进程之间的通信提供服务**。由于一个主机可同时运行多个进程，因此运输层具有复用和分用的功能。复用是指多个应用层进程可同时使用运输层的服务，分用是指运输层把收到的信息分别交付给应用层中的相应进程。
> * 应用层：为操作系统或网络应用程序提供访问网络服务的**接口**。
### 1.2 常见的网络协议
网络层
> * IP协议：网际协议
> * ICMP协议：Internet控制报文协议
> * ARP协议:地址解析协议
> * RARP协议：逆地址解析协议


传输层
> * UDP协议：用户数据报协议
> * TCP协议：传输控制协议


应用层
> * FTP：文件传送协议
> * DNS：域名解析协议
> * POP3：邮局协议
> * HTTP协议
> * SMTP：简单邮件传送协议
> * SNMP：简单网络管理协议
> * TFTP：简单文件传送协议
---
## 2. 网际协议IP
IP协议的特点
> * **不可靠**：并不保证IP数据报能成功地到达目的地。如果发生某种错误，如某个路由器暂时用完了缓冲区，IP有一个简单的错误处理算法：丢弃该数据报，然后发送ICMP消息报给信源端。任何可靠性必须由上层提供（如TCP）。
> * **无连接**：IP并不维护任何关于后续数据报的状态消息，每个连接都是独立的。这也说明，IP数据报可以不按发送顺序接收。

### 2.1 IP首部
普通的IP首部长20个字节（不包含选项字段），包含协议版本号、首部长度、总长度、唯一标识、TTL、首部检验和、源IP地址和目的IP地址。
> * 通过首部长度和总长度字段就可以知道IP数据报中数据内容的起始位置和长度。
> * TTL生存时间字段设置了数据报可以经过的最多路由器数。初始值由源主机设置，一旦经过一个处理它的路由器，其值就减一；当该字段的值为0时，数据报就被丢弃。
> * 首部检验和字段是根据IP首部计算的检验和码（ICMP、UDP、TCP检验和同时覆盖了首部和数据部分）。
> * 如果长度超过了MTU，则要进行分片，根据IP头部的格式，有一个16位的标识，分片的时候会把这个标识复制到所有的分片中去，也就是说同一个IP的分片，他们的标识是一样的；然后3bit标志中有一位是表示是否最后一片，除了最后一片为0，其它片这个标识位都为1；修改IP的长度为分片中实际数据的长度；片偏移量是该片偏移原始数据的位置。 接收端根据 标识，是否为最后一片，各个片的长度，偏移量就可以把分片的包重新组装起来。

### 2.2 IP地址
IP地址一般有**网络号**和**主机号**组成（D类和E类无此分法）。网络号标志主机（或路由器）所连接到的网络，主机号则标志该网络下的主机或路由器。

由于一个路由器至少应当连接到两个网络（这样它才能将IP数据报从一个网络转发到另一个网络），因此一个路由器至少应当有两个不同的IP地址。路由器只根据目的站的IP地址的网络号进行路由选择。

### 2.2 IP地址
### 2.3 划分子网
### 2.4 ARP协议与RARP协议
### 2.5 ICMP（Internet控制报文协议）
### 2.6 ping程序
---
## 3. TCP协议
### 3.1 TCP服务的特点
### 3.2 TCP的首部
